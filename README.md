# butterfly_effect
遗传算法求解十步万度，使用deap库，claude辅助编程

注：
十步万度攻略很多，且已被形式化精确证明，这个仓库记录了一次使用ChatGPT和Claude辅助编程的经过。分阶段的提示语便于测试，但如果能精确给出需求，OpenAI-o1类的大模型应该效果会更好，估计可以一次成功。

提示语：
“十步万度”是一个二维游戏，页面上按3*3排列着共9个表盘，每个表盘中有一个方向，方向可以是上、下、左、右。游戏开始时，所有表盘的方向都向上。玩家通过点击表盘来改变表盘的方向，每次点击一个表盘，该表盘的方向会顺时针旋转90度。请使用Python编写一个程序实现该游戏。

测试通过，现增加新功能：某表盘旋转之后，如果该表盘指向的方向上存在相邻表盘，则相邻表盘的方向会顺时针旋转90度。循环上述过程，直到某表盘指向方向上无相邻表盘为止。

测试通过，现增加新功能：增加初始化功能，初始化时，询问创建表盘的阶数，例如4阶，即生成4*4的表盘。增加结算功能，退出时，计算总输入轮次和总旋转次数。

测试通过，增加自动拨盘模块，模块能够随机点击10次表盘，结束时用列表输出所有的拨盘动作，并计算出总旋转次数。

测试通过，增加批量测试功能，每次测试时随机点击n次表盘，并计算出总旋转次数，连续测试m次，并输出最大的旋转次数及其相应的拨盘动作。n和m由用户输入。请不要打印中间结果，输出最终结果即可。

测试通过，请封装该游戏的操作代码，使其适合在外部程序中作为函数调用。输入参数为表盘阶数、拨盘动作，输出为旋转次数。

某游戏已被封装为黑盒子，输入为20个参数，输出为1个参数，表示得分。请使用python编程，使用deap包，使用遗传算法，使其能够通过优化，找到最优的输入参数，使得得分最高。
你应该使用这样的函数描述我上述说明的内容：
import playtable
score = playtable.play_game(rank, parameters)
其中parameters是输入参数，参数的取值范围是从1到rank，例如rank=4，则参数可以取1,2,3,4，score是得分。
在这个函数中parameters要求同时传入所有参数，并将参数两两组合，形成一个二维列表，例如[[1,1],[1,2],[2,2]]

现在我希望能够在初始化阶段自定义表盘界面，1.自定义尺寸：可以是长方形的，例如5行4列，2.自定义方向：表盘初始角度不一定都向上，可以朝向任意方向，3.自定义表盘缺失：允许某个位置不存在表盘，方向设置为-1.

我希望你在initial_directions = [ [0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2], [0, 1, 2, 3] ]这个列表中就标出缺失位置，不需要更多操作。

